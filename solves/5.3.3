import torch
import torch.nn as nn

# здесь объявляйте класс KLLoss
class KLLoss(nn.Module):
    def forward(self, h_mean, h_log_var):
        kl_loss = -0.5 * torch.sum(1 + h_log_var - h_mean ** 2 - torch.exp(h_log_var), dim=-1)
        return torch.mean(kl_loss)
    

batch_size = 5
h_mean = torch.rand(batch_size, 10)
h_log_var = torch.rand(batch_size, 10)

# здесь продолжайте программу
loss_func = KLLoss()
loss = loss_func(h_mean, h_log_var).item()
